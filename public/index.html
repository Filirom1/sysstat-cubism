<!DOCTYPE html>
<meta charset="utf-8">
<title>Sysstat Cubism</title>
<style> @import url(style.css); </style>
<body>
<script src="vendor/d3.v2.min.js"></script>
<script src="vendor/cubism.v1.js"></script>
<script src="vendor/jquery-1.7.2.min.js"></script>
<script src="vendor/underscore-min.js"></script>
<script src="js/cubism.sysstat.js"></script>
<script>

var metrics = 'CPU_all_%usr CPU_all_%nice CPU_all_%sys CPU_all_%iowait CPU_all_%steal CPU_all_%irq CPU_all_%soft CPU_all_%guest CPU_all_%idle CPU_0_%usr CPU_0_%nice CPU_0_%sys CPU_0_%iowait CPU_0_%steal CPU_0_%irq CPU_0_%soft CPU_0_%guest CPU_0_%idle CPU_1_%usr CPU_1_%nice CPU_1_%sys CPU_1_%iowait CPU_1_%steal CPU_1_%irq CPU_1_%soft CPU_1_%guest CPU_1_%idle CPU_2_%usr CPU_2_%nice CPU_2_%sys CPU_2_%iowait CPU_2_%steal CPU_2_%irq CPU_2_%soft CPU_2_%guest CPU_2_%idle CPU_3_%usr CPU_3_%nice CPU_3_%sys CPU_3_%iowait CPU_3_%steal CPU_3_%irq CPU_3_%soft CPU_3_%guest CPU_3_%idle proc/s cswch/s INTR_sum_intr/s INTR_0_intr/s INTR_1_intr/s INTR_2_intr/s INTR_3_intr/s INTR_4_intr/s INTR_5_intr/s INTR_6_intr/s INTR_7_intr/s INTR_8_intr/s INTR_9_intr/s INTR_10_intr/s INTR_11_intr/s INTR_12_intr/s INTR_13_intr/s INTR_14_intr/s INTR_15_intr/s INTR_16_intr/s INTR_17_intr/s INTR_18_intr/s INTR_19_intr/s INTR_20_intr/s INTR_21_intr/s INTR_22_intr/s INTR_23_intr/s INTR_24_intr/s INTR_25_intr/s INTR_26_intr/s INTR_27_intr/s INTR_28_intr/s INTR_29_intr/s INTR_30_intr/s INTR_31_intr/s INTR_32_intr/s INTR_33_intr/s INTR_34_intr/s INTR_35_intr/s INTR_36_intr/s INTR_37_intr/s INTR_38_intr/s INTR_39_intr/s INTR_40_intr/s INTR_41_intr/s INTR_42_intr/s INTR_43_intr/s INTR_44_intr/s INTR_45_intr/s INTR_46_intr/s INTR_47_intr/s INTR_48_intr/s INTR_49_intr/s INTR_50_intr/s INTR_51_intr/s INTR_52_intr/s INTR_53_intr/s INTR_54_intr/s INTR_55_intr/s INTR_56_intr/s INTR_57_intr/s INTR_58_intr/s INTR_59_intr/s INTR_60_intr/s INTR_61_intr/s INTR_62_intr/s INTR_63_intr/s INTR_64_intr/s INTR_65_intr/s INTR_66_intr/s INTR_67_intr/s INTR_68_intr/s INTR_69_intr/s INTR_70_intr/s INTR_71_intr/s INTR_72_intr/s INTR_73_intr/s INTR_74_intr/s INTR_75_intr/s INTR_76_intr/s INTR_77_intr/s INTR_78_intr/s INTR_79_intr/s INTR_80_intr/s INTR_81_intr/s INTR_82_intr/s INTR_83_intr/s INTR_84_intr/s INTR_85_intr/s INTR_86_intr/s INTR_87_intr/s INTR_88_intr/s INTR_89_intr/s INTR_90_intr/s INTR_91_intr/s INTR_92_intr/s INTR_93_intr/s INTR_94_intr/s INTR_95_intr/s INTR_96_intr/s INTR_97_intr/s INTR_98_intr/s INTR_99_intr/s INTR_100_intr/s INTR_101_intr/s INTR_102_intr/s INTR_103_intr/s INTR_104_intr/s INTR_105_intr/s INTR_106_intr/s INTR_107_intr/s INTR_108_intr/s INTR_109_intr/s INTR_110_intr/s INTR_111_intr/s INTR_112_intr/s INTR_113_intr/s INTR_114_intr/s INTR_115_intr/s INTR_116_intr/s INTR_117_intr/s INTR_118_intr/s INTR_119_intr/s INTR_120_intr/s INTR_121_intr/s INTR_122_intr/s INTR_123_intr/s INTR_124_intr/s INTR_125_intr/s INTR_126_intr/s INTR_127_intr/s INTR_128_intr/s INTR_129_intr/s INTR_130_intr/s INTR_131_intr/s INTR_132_intr/s INTR_133_intr/s INTR_134_intr/s INTR_135_intr/s INTR_136_intr/s INTR_137_intr/s INTR_138_intr/s INTR_139_intr/s INTR_140_intr/s INTR_141_intr/s INTR_142_intr/s INTR_143_intr/s INTR_144_intr/s INTR_145_intr/s INTR_146_intr/s INTR_147_intr/s INTR_148_intr/s INTR_149_intr/s INTR_150_intr/s INTR_151_intr/s INTR_152_intr/s INTR_153_intr/s INTR_154_intr/s INTR_155_intr/s INTR_156_intr/s INTR_157_intr/s INTR_158_intr/s INTR_159_intr/s INTR_160_intr/s INTR_161_intr/s INTR_162_intr/s INTR_163_intr/s INTR_164_intr/s INTR_165_intr/s INTR_166_intr/s INTR_167_intr/s INTR_168_intr/s INTR_169_intr/s INTR_170_intr/s INTR_171_intr/s INTR_172_intr/s INTR_173_intr/s INTR_174_intr/s INTR_175_intr/s INTR_176_intr/s INTR_177_intr/s INTR_178_intr/s INTR_179_intr/s INTR_180_intr/s INTR_181_intr/s INTR_182_intr/s INTR_183_intr/s INTR_184_intr/s INTR_185_intr/s INTR_186_intr/s INTR_187_intr/s INTR_188_intr/s INTR_189_intr/s INTR_190_intr/s INTR_191_intr/s INTR_192_intr/s INTR_193_intr/s INTR_194_intr/s INTR_195_intr/s INTR_196_intr/s INTR_197_intr/s INTR_198_intr/s INTR_199_intr/s INTR_200_intr/s INTR_201_intr/s INTR_202_intr/s INTR_203_intr/s INTR_204_intr/s INTR_205_intr/s INTR_206_intr/s INTR_207_intr/s INTR_208_intr/s INTR_209_intr/s INTR_210_intr/s INTR_211_intr/s INTR_212_intr/s INTR_213_intr/s INTR_214_intr/s INTR_215_intr/s INTR_216_intr/s INTR_217_intr/s INTR_218_intr/s INTR_219_intr/s INTR_220_intr/s INTR_221_intr/s INTR_222_intr/s INTR_223_intr/s INTR_224_intr/s INTR_225_intr/s INTR_226_intr/s INTR_227_intr/s INTR_228_intr/s INTR_229_intr/s INTR_230_intr/s INTR_231_intr/s INTR_232_intr/s INTR_233_intr/s INTR_234_intr/s INTR_235_intr/s INTR_236_intr/s INTR_237_intr/s INTR_238_intr/s INTR_239_intr/s INTR_240_intr/s INTR_241_intr/s INTR_242_intr/s INTR_243_intr/s INTR_244_intr/s INTR_245_intr/s INTR_246_intr/s INTR_247_intr/s INTR_248_intr/s INTR_249_intr/s INTR_250_intr/s INTR_251_intr/s INTR_252_intr/s INTR_253_intr/s INTR_254_intr/s INTR_255_intr/s pswpin/s pswpout/s pgpgin/s pgpgout/s fault/s majflt/s pgfree/s pgscank/s pgscand/s pgsteal/s %vmeff tps rtps wtps bread/s bwrtn/s frmpg/s bufpg/s campg/s kbmemfree kbmemused %memused kbbuffers kbcached kbcommit %commit kbswpfree kbswpused %swpused kbswpcad %swpcad dentunusd file-nr inode-nr pty-nr runq-sz plist-sz ldavg-1 ldavg-5 ldavg-15 DEV_dev8-0_tps DEV_dev8-0_rd_sec/s DEV_dev8-0_wr_sec/s DEV_dev8-0_avgrq-sz DEV_dev8-0_avgqu-sz DEV_dev8-0_await DEV_dev8-0_svctm DEV_dev8-0_%util DEV_dev253-0_tps DEV_dev253-0_rd_sec/s DEV_dev253-0_wr_sec/s DEV_dev253-0_avgrq-sz DEV_dev253-0_avgqu-sz DEV_dev253-0_await DEV_dev253-0_svctm DEV_dev253-0_%util DEV_dev253-1_tps DEV_dev253-1_rd_sec/s DEV_dev253-1_wr_sec/s DEV_dev253-1_avgrq-sz DEV_dev253-1_avgqu-sz DEV_dev253-1_await DEV_dev253-1_svctm DEV_dev253-1_%util DEV_dev253-2_tps DEV_dev253-2_rd_sec/s DEV_dev253-2_wr_sec/s DEV_dev253-2_avgrq-sz DEV_dev253-2_avgqu-sz DEV_dev253-2_await DEV_dev253-2_svctm DEV_dev253-2_%util IFACE_lo_rxpck/s IFACE_lo_txpck/s IFACE_lo_rxkB/s IFACE_lo_txkB/s IFACE_lo_rxcmp/s IFACE_lo_txcmp/s IFACE_lo_rxmcst/s IFACE_eth0_rxpck/s IFACE_eth0_txpck/s IFACE_eth0_rxkB/s IFACE_eth0_txkB/s IFACE_eth0_rxcmp/s IFACE_eth0_txcmp/s IFACE_eth0_rxmcst/s IFACE_lo_rxerr/s IFACE_lo_txerr/s IFACE_lo_coll/s IFACE_lo_rxdrop/s IFACE_lo_txdrop/s IFACE_lo_txcarr/s IFACE_lo_rxfram/s IFACE_lo_rxfifo/s IFACE_lo_txfifo/s IFACE_eth0_rxerr/s IFACE_eth0_txerr/s IFACE_eth0_coll/s IFACE_eth0_rxdrop/s IFACE_eth0_txdrop/s IFACE_eth0_txcarr/s IFACE_eth0_rxfram/s IFACE_eth0_rxfifo/s IFACE_eth0_txfifo/s call/s retrans/s read/s write/s access/s getatt/s scall/s badcall/s packet/s udp/s tcp/s hit/s miss/s sread/s swrite/s saccess/s sgetatt/s totsck tcpsck udpsck rawsck ip-frag tcp-tw irec/s fwddgm/s idel/s orq/s asmrq/s asmok/s fragok/s fragcrt/s ihdrerr/s iadrerr/s iukwnpr/s idisc/s odisc/s onort/s asmf/s fragf/s imsg/s omsg/s iech/s iechr/s oech/s oechr/s itm/s itmr/s otm/s otmr/s iadrmk/s iadrmkr/s oadrmk/s oadrmkr/s ierr/s oerr/s idstunr/s odstunr/s itmex/s otmex/s iparmpb/s oparmpb/s isrcq/s osrcq/s iredir/s oredir/s active/s passive/s iseg/s oseg/s atmptf/s estres/s isegerr/s orsts/s idgm/s odgm/s noport/s idgmerr/s tcp6sck udp6sck raw6sck ip6-frag irec6/s fwddgm6/s idel6/s orq6/s asmrq6/s asmok6/s imcpck6/s omcpck6/s fragok6/s fragcr6/s ihdrer6/s iadrer6/s iukwnp6/s i2big6/s idisc6/s odisc6/s inort6/s onort6/s asmf6/s fragf6/s itrpck6/s imsg6/s omsg6/s iech6/s iechr6/s oechr6/s igmbq6/s igmbr6/s ogmbr6/s igmbrd6/s ogmbrd6/s irtsol6/s ortsol6/s irtad6/s inbsol6/s onbsol6/s inbad6/s onbad6/s ierr6/s idtunr6/s odtunr6/s itmex6/s otmex6/s iprmpb6/s oprmpb6/s iredir6/s oredir6/s ipck2b6/s opck2b6/s idgm6/s odgm6/s noport6/s idgmer6/s CPU_all_MHz CPU_0_MHz CPU_1_MHz CPU_2_MHz CPU_3_MHz'.split(' ');

var context = cubism.context()
  .serverDelay(0)
  .clientDelay(0)
  .step(1e4)
  .size($('body').width()),
  sysstat = cubism.sysstat(context, "http://127.0.0.1:3000/sysstat");


d3.select("body").selectAll(".axis")
    .data(["top", "bottom"])
  .enter().append("div")
    .attr("class", function(d) { return d + " axis"; })
    .each(function(d) { d3.select(this).call(context.axis().ticks(12).orient(d)); });

d3.select("body").append("div")
    .attr("class", "rule")
    .call(context.rule());

d3.select("body").selectAll(".horizon")
    .data(metrics.map(sysstat.metric))
  .enter().insert("div", ".bottom")
    .attr("class", "horizon")
    .call(context.horizon());

context.on("focus", function(i) {
  d3.selectAll(".value").style("right", i == null ? null : context.size() - i + "px");
});
</script>
